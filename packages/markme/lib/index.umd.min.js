!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Markme=e()}(this,function(){"use strict";var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r=e(n(function(t,e){e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}})),i=n(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),o=n(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),a=(o.version,function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),c=function(t,e,n){if(a(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},u=function(t){return"object"==typeof t?null!==t:"function"==typeof t},s=function(t){if(!u(t))throw TypeError(t+" is not an object!");return t},f=function(t){try{return!!t()}catch(t){return!0}},l=!f(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),h=i.document,d=u(h)&&u(h.createElement),p=function(t){return d?h.createElement(t):{}},g=!l&&!f(function(){return 7!=Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a}),v=Object.defineProperty,y={f:l?Object.defineProperty:function(t,e,n){if(s(t),e=function(t,e){if(!u(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!u(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!u(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!u(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),s(n),g)try{return v(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},m=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w=l?function(t,e,n){return y.f(t,e,m(1,n))}:function(t,e,n){return t[e]=n,t},b={}.hasOwnProperty,x=function(t,e){return b.call(t,e)},_=function(t,e,n){var r,a,u,s=t&_.F,f=t&_.G,l=t&_.S,h=t&_.P,d=t&_.B,p=t&_.W,g=f?o:o[e]||(o[e]={}),v=g.prototype,y=f?i:l?i[e]:(i[e]||{}).prototype;for(r in f&&(n=e),n)(a=!s&&y&&void 0!==y[r])&&x(g,r)||(u=a?y[r]:n[r],g[r]=f&&"function"!=typeof y[r]?n[r]:d&&a?c(u,i):p&&y[r]==u?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):h&&"function"==typeof u?c(Function.call,u):u,h&&((g.virtual||(g.virtual={}))[r]=u,t&_.R&&v&&!v[r]&&w(v,r,u)))};_.F=1,_.G=2,_.S=4,_.P=8,_.B=16,_.W=32,_.U=64,_.R=128;var M,N=_,k={}.toString,E=function(t){return k.call(t).slice(8,-1)},j=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==E(t)?t.split(""):Object(t)},T=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},L=function(t){return j(T(t))},S=Math.ceil,O=Math.floor,C=function(t){return isNaN(t=+t)?0:(t>0?O:S)(t)},A=Math.min,D=function(t){return t>0?A(C(t),9007199254740991):0},I=Math.max,P=Math.min,z=i["__core-js_shared__"]||(i["__core-js_shared__"]={}),R=function(t){return z[t]||(z[t]={})},F=0,B=Math.random(),G=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++F+B).toString(36))},Q=R("keys"),U=function(t){return Q[t]||(Q[t]=G(t))},Y=(M=!1,function(t,e,n){var r,i=L(t),o=D(i.length),a=function(t,e){return(t=C(t))<0?I(t+e,0):P(t,e)}(n,o);if(M&&e!=e){for(;o>a;)if((r=i[a++])!=r)return!0}else for(;o>a;a++)if((M||a in i)&&i[a]===e)return M||a||0;return!M&&-1}),W=U("IE_PROTO"),H="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Z=Object.keys||function(t){return function(t,e){var n,r=L(t),i=0,o=[];for(n in r)n!=W&&x(r,n)&&o.push(n);for(;e.length>i;)x(r,n=e[i++])&&(~Y(o,n)||o.push(n));return o}(t,H)},V={f:Object.getOwnPropertySymbols},q={f:{}.propertyIsEnumerable},$=function(t){return Object(T(t))},J=Object.assign,X=!J||f(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=J({},t)[n]||Object.keys(J({},e)).join("")!=r})?function(t,e){for(var n=$(t),r=arguments.length,i=1,o=V.f,a=q.f;r>i;)for(var c,u=j(arguments[i++]),s=o?Z(u).concat(o(u)):Z(u),f=s.length,l=0;f>l;)a.call(u,c=s[l++])&&(n[c]=u[c]);return n}:J;N(N.S+N.F,"Object",{assign:X});var K=o.Object.assign,tt=n(function(t){t.exports={default:K,__esModule:!0}});e(tt);var et=e(n(function(t,e){e.__esModule=!0;var n,r=(n=tt)&&n.__esModule?n:{default:n};e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}})),nt=n(function(t){!function(e){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",s=e.regeneratorRuntime;if(s)t.exports=s;else{(s=e.regeneratorRuntime=t.exports).wrap=w;var f="suspendedStart",l="suspendedYield",h="executing",d="completed",p={},g={};g[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==r&&i.call(y,a)&&(g=y);var m=M.prototype=x.prototype=Object.create(g);_.prototype=m.constructor=M,M.constructor=_,M[u]=_.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,M):(t.__proto__=M,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(m),t},s.awrap=function(t){return{__await:t}},N(k.prototype),k.prototype[c]=function(){return this},s.AsyncIterator=k,s.async=function(t,e,n,r){var i=new k(w(t,e,n,r));return s.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},N(m),m[u]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},s.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},s.values=S,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return c.type="throw",c.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),p}}}function w(t,e,n,r){var i=e&&e.prototype instanceof x?e:x,o=Object.create(i.prototype),a=new L(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=b(t,e,n);if("normal"===u.type){if(r=n.done?d:l,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function _(){}function M(){}function N(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,a){var c=b(t[n],t,r);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==typeof s&&i.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(s).then(function(t){u.value=t,o(u)},a)}a(c.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=b(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())}),rt=function(){return this}()||Function("return this")(),it=rt.regeneratorRuntime&&Object.getOwnPropertyNames(rt).indexOf("regeneratorRuntime")>=0,ot=it&&rt.regeneratorRuntime;rt.regeneratorRuntime=void 0;var at=nt;if(it)rt.regeneratorRuntime=ot;else try{delete rt.regeneratorRuntime}catch(t){rt.regeneratorRuntime=void 0}var ct=at,ut=w,st={},ft=l?Object.defineProperties:function(t,e){s(t);for(var n,r=Z(e),i=r.length,o=0;i>o;)y.f(t,n=r[o++],e[n]);return t},lt=i.document,ht=lt&&lt.documentElement,dt=U("IE_PROTO"),pt=function(){},gt=function(){var t,e=p("iframe"),n=H.length;for(e.style.display="none",ht.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),gt=t.F;n--;)delete gt.prototype[H[n]];return gt()},vt=Object.create||function(t,e){var n;return null!==t?(pt.prototype=s(t),n=new pt,pt.prototype=null,n[dt]=t):n=gt(),void 0===e?n:ft(n,e)},yt=n(function(t){var e=R("wks"),n=i.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:G)("Symbol."+t))}).store=e}),mt=y.f,wt=yt("toStringTag"),bt=function(t,e,n){t&&!x(t=n?t:t.prototype,wt)&&mt(t,wt,{configurable:!0,value:e})},xt={};w(xt,yt("iterator"),function(){return this});var _t,Mt=function(t,e,n){t.prototype=vt(xt,{next:m(1,n)}),bt(t,e+" Iterator")},Nt=U("IE_PROTO"),kt=Object.prototype,Et=Object.getPrototypeOf||function(t){return t=$(t),x(t,Nt)?t[Nt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?kt:null},jt=yt("iterator"),Tt=!([].keys&&"next"in[].keys()),Lt=function(){return this},St=function(t,e,n,r,i,o,a){Mt(n,e,r);var c,u,s,f=function(t){if(!Tt&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",h="values"==i,d=!1,p=t.prototype,g=p[jt]||p["@@iterator"]||i&&p[i],v=g||f(i),y=i?h?f("entries"):v:void 0,m="Array"==e&&p.entries||g;if(m&&(s=Et(m.call(new t)))!==Object.prototype&&s.next&&bt(s,l,!0),h&&g&&"values"!==g.name&&(d=!0,v=function(){return g.call(this)}),a&&(Tt||d||!p[jt])&&w(p,jt,v),st[e]=v,st[l]=Lt,i)if(c={values:h?v:f("values"),keys:o?v:f("keys"),entries:y},a)for(u in c)u in p||ut(p,u,c[u]);else N(N.P+N.F*(Tt||d),e,c);return c},Ot=(_t=!0,function(t,e){var n,r,i=String(T(t)),o=C(e),a=i.length;return o<0||o>=a?_t?"":void 0:(n=i.charCodeAt(o))<55296||n>56319||o+1===a||(r=i.charCodeAt(o+1))<56320||r>57343?_t?i.charAt(o):n:_t?i.slice(o,o+2):r-56320+(n-55296<<10)+65536});St(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Ot(e,n),this._i+=t.length,{value:t,done:!1})});var Ct=function(t,e){return{value:e,done:!!t}};St(Array,"Array",function(t,e){this._t=L(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ct(1)):Ct(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");st.Arguments=st.Array;for(var At=yt("toStringTag"),Dt="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),It=0;It<Dt.length;It++){var Pt=Dt[It],zt=i[Pt],Rt=zt&&zt.prototype;Rt&&!Rt[At]&&w(Rt,At,Pt),st[Pt]=st.Array}var Ft,Bt,Gt,Qt=yt("toStringTag"),Ut="Arguments"==E(function(){return arguments}()),Yt=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Qt))?n:Ut?E(e):"Object"==(r=E(e))&&"function"==typeof e.callee?"Arguments":r},Wt=function(t,e,n,r){try{return r?e(s(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&s(i.call(t)),e}},Ht=yt("iterator"),Zt=Array.prototype,Vt=yt("iterator"),qt=o.getIteratorMethod=function(t){if(void 0!=t)return t[Vt]||t["@@iterator"]||st[Yt(t)]},$t=n(function(t){var e={},n={},r=t.exports=function(t,r,i,o,a){var u,f,l,h,d,p=a?function(){return t}:qt(t),g=c(i,o,r?2:1),v=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(void 0===(d=p)||st.Array!==d&&Zt[Ht]!==d){for(l=p.call(t);!(f=l.next()).done;)if((h=Wt(l,g,f.value,r))===e||h===n)return h}else for(u=D(t.length);u>v;v++)if((h=r?g(s(f=t[v])[0],f[1]):g(t[v]))===e||h===n)return h};r.BREAK=e,r.RETURN=n}),Jt=yt("species"),Xt=function(t,e){var n,r=s(t).constructor;return void 0===r||void 0==(n=s(r)[Jt])?e:a(n)},Kt=i.process,te=i.setImmediate,ee=i.clearImmediate,ne=i.MessageChannel,re=i.Dispatch,ie=0,oe={},ae=function(){var t=+this;if(oe.hasOwnProperty(t)){var e=oe[t];delete oe[t],e()}},ce=function(t){ae.call(t.data)};te&&ee||(te=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return oe[++ie]=function(){!function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}t.apply(n,e)}("function"==typeof t?t:Function(t),e)},Ft(ie),ie},ee=function(t){delete oe[t]},"process"==E(Kt)?Ft=function(t){Kt.nextTick(c(ae,t,1))}:re&&re.now?Ft=function(t){re.now(c(ae,t,1))}:ne?(Gt=(Bt=new ne).port2,Bt.port1.onmessage=ce,Ft=c(Gt.postMessage,Gt,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts?(Ft=function(t){i.postMessage(t+"","*")},i.addEventListener("message",ce,!1)):Ft="onreadystatechange"in p("script")?function(t){ht.appendChild(p("script")).onreadystatechange=function(){ht.removeChild(this),ae.call(t)}}:function(t){setTimeout(c(ae,t,1),0)});var ue={set:te,clear:ee},se=ue.set,fe=i.MutationObserver||i.WebKitMutationObserver,le=i.process,he=i.Promise,de="process"==E(le);var pe={f:function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=a(e),this.reject=a(n)}(t)}},ge=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},ve=function(t,e){if(s(t),u(e)&&e.constructor===t)return e;var n=pe.f(t);return(0,n.resolve)(e),n.promise},ye=yt("species"),me=yt("iterator"),we=!1;try{[7][me]().return=function(){we=!0}}catch(t){}var be,xe,_e,Me,Ne,ke,Ee=ue.set,je=function(){var t,e,n,r=function(){var r,i;for(de&&(r=le.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(de)n=function(){le.nextTick(r)};else if(!fe||i.navigator&&i.navigator.standalone)if(he&&he.resolve){var o=he.resolve();n=function(){o.then(r)}}else n=function(){se.call(i,r)};else{var a=!0,c=document.createTextNode("");new fe(r).observe(c,{characterData:!0}),n=function(){c.data=a=!a}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}(),Te=i.TypeError,Le=i.process,Se=i.Promise,Oe="process"==Yt(Le),Ce=function(){},Ae=xe=pe.f,De=!!function(){try{var t=Se.resolve(1),e=(t.constructor={})[yt("species")]=function(t){t(Ce,Ce)};return(Oe||"function"==typeof PromiseRejectionEvent)&&t.then(Ce)instanceof e}catch(t){}}(),Ie=function(t){var e;return!(!u(t)||"function"!=typeof(e=t.then))&&e},Pe=function(t,e){if(!t._n){t._n=!0;var n=t._c;je(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,c=i?e.ok:e.fail,u=e.resolve,s=e.reject,f=e.domain;try{c?(i||(2==t._h&&Fe(t),t._h=1),!0===c?n=r:(f&&f.enter(),n=c(r),f&&(f.exit(),a=!0)),n===e.promise?s(Te("Promise-chain cycle")):(o=Ie(n))?o.call(n,u,s):u(n)):s(r)}catch(t){f&&!a&&f.exit(),s(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&ze(t)})}},ze=function(t){Ee.call(i,function(){var e,n,r,o=t._v,a=Re(t);if(a&&(e=ge(function(){Oe?Le.emit("unhandledRejection",o,t):(n=i.onunhandledrejection)?n({promise:t,reason:o}):(r=i.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=Oe||Re(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},Re=function(t){return 1!==t._h&&0===(t._a||t._c).length},Fe=function(t){Ee.call(i,function(){var e;Oe?Le.emit("rejectionHandled",t):(e=i.onrejectionhandled)&&e({promise:t,reason:t._v})})},Be=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Pe(e,!0))},Ge=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw Te("Promise can't be resolved itself");(e=Ie(t))?je(function(){var r={_w:n,_d:!1};try{e.call(t,c(Ge,r,1),c(Be,r,1))}catch(t){Be.call(r,t)}}):(n._v=t,n._s=1,Pe(n,!1))}catch(t){Be.call({_w:n,_d:!1},t)}}};De||(Se=function(t){!function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!")}(this,Se,"Promise","_h"),a(t),be.call(this);try{t(c(Ge,this,1),c(Be,this,1))}catch(t){Be.call(this,t)}},(be=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:w(t,r,e[r]);return t}(Se.prototype,{then:function(t,e){var n=Ae(Xt(this,Se));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Oe?Le.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Pe(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),_e=function(){var t=new be;this.promise=t,this.resolve=c(Ge,t,1),this.reject=c(Be,t,1)},pe.f=Ae=function(t){return t===Se||t===Me?new _e(t):xe(t)}),N(N.G+N.W+N.F*!De,{Promise:Se}),bt(Se,"Promise"),ke="function"==typeof o[Ne="Promise"]?o[Ne]:i[Ne],l&&ke&&!ke[ye]&&y.f(ke,ye,{configurable:!0,get:function(){return this}}),Me=o.Promise,N(N.S+N.F*!De,"Promise",{reject:function(t){var e=Ae(this);return(0,e.reject)(t),e.promise}}),N(N.S+!0*N.F,"Promise",{resolve:function(t){return ve(this===Me?Se:this,t)}}),N(N.S+N.F*!(De&&function(t,e){if(!e&&!we)return!1;var n=!1;try{var r=[7],i=r[me]();i.next=function(){return{done:n=!0}},r[me]=function(){return i},t(r)}catch(t){}return n}(function(t){Se.all(t).catch(Ce)})),"Promise",{all:function(t){var e=this,n=Ae(e),r=n.resolve,i=n.reject,o=ge(function(){var n=[],o=0,a=1;$t(t,!1,function(t){var c=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[c]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=Ae(e),r=n.reject,i=ge(function(){$t(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}}),N(N.P+N.R,"Promise",{finally:function(t){var e=Xt(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return ve(e,t()).then(function(){return n})}:t,n?function(n){return ve(e,t()).then(function(){throw n})}:t)}}),N(N.S,"Promise",{try:function(t){var e=pe.f(this),n=ge(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}});var Qe=o.Promise,Ue=n(function(t){t.exports={default:Qe,__esModule:!0}});e(Ue);var Ye=e(n(function(t,e){e.__esModule=!0;var n,r=(n=Ue)&&n.__esModule?n:{default:n};e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default(function(t,n){return function i(o,a){try{var c=e[o](a),u=c.value}catch(t){return void n(t)}if(!c.done)return r.default.resolve(u).then(function(t){i("next",t)},function(t){i("throw",t)});t(u)}("next")})}}})),We=e(n(function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}));N(N.S+N.F*!l,"Object",{defineProperty:y.f});var He=o.Object,Ze=function(t,e,n){return He.defineProperty(t,e,n)},Ve=n(function(t){t.exports={default:Ze,__esModule:!0}});e(Ve);var qe=e(n(function(t,e){e.__esModule=!0;var n,r=(n=Ve)&&n.__esModule?n:{default:n};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()})),$e="Expected a function",Je=NaN,Xe="[object Symbol]",Ke=/^\s+|\s+$/g,tn=/^[-+]0x[0-9a-f]+$/i,en=/^0b[01]+$/i,nn=/^0o[0-7]+$/i,rn=parseInt,on="object"==typeof t&&t&&t.Object===Object&&t,an="object"==typeof self&&self&&self.Object===Object&&self,cn=on||an||Function("return this")(),un=Object.prototype.toString,sn=Math.max,fn=Math.min,ln=function(){return cn.Date.now()};function hn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function dn(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&un.call(t)==Xe}(t))return Je;if(hn(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=hn(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ke,"");var n=en.test(t);return n||nn.test(t)?rn(t.slice(2),n?2:8):tn.test(t)?Je:+t}var pn=function(t,e,n){var r,i,o,a,c,u,s=0,f=!1,l=!1,h=!0;if("function"!=typeof t)throw new TypeError($e);function d(e){var n=r,o=i;return r=i=void 0,s=e,a=t.apply(o,n)}function p(t){var n=t-u;return void 0===u||n>=e||n<0||l&&t-s>=o}function g(){var t=ln();if(p(t))return v(t);c=setTimeout(g,function(t){var n=e-(t-u);return l?fn(n,o-(t-s)):n}(t))}function v(t){return c=void 0,h&&r?d(t):(r=i=void 0,a)}function y(){var t=ln(),n=p(t);if(r=arguments,i=this,u=t,n){if(void 0===c)return function(t){return s=t,c=setTimeout(g,e),f?d(t):a}(u);if(l)return c=setTimeout(g,e),d(u)}return void 0===c&&(c=setTimeout(g,e)),a}return e=dn(e)||0,hn(n)&&(f=!!n.leading,o=(l="maxWait"in n)?sn(dn(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=i=c=void 0},y.flush=function(){return void 0===c?a:v(ln())},y};function gn(t){return t&&t.nodeType===document.TEXT_NODE}var vn=new Map;function yn(t){return{width:(t=t.getBoundingClientRect()).width,height:t.height,left:t.left+window.scrollX,top:t.top+window.scrollY}}function mn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(!(t instanceof e.Range)){var n=e.document.createRange();n.selectNodeContents(t),t=n}return yn(t)}var wn=function t(e,n){if(!1!==n(e))for(e=e.firstChild;e;)t(e,n),e=e.nextSibling};function bn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(!t||t.nodeType!==Node.ELEMENT_NODE)throw new Error("getSelector requires element.");if(e===t)return null;if(t.hasAttribute("id"))return"#"+t.getAttribute("id");var n=-1,r=!1;Array.from(t.parentNode?t.parentNode.children:[]).forEach(function(e,i){e===t?n=i+1:t.tagName===e.tagName&&(r=!0)});var i=t.localName;n>0&&r&&(i=t.localName+":nth-child("+n+")");var o=bn(t.parentNode,e);return null!==o?o+" > "+i:i}var xn=n(function(t){t.exports=((t,e,n,r)=>{const i=(t+(r||"")).toString().includes("%");if("string"==typeof t){const i=t.match(/(0?\.?\d{1,3})%?\b/g).map(Number);t=i[0],e=i[1],n=i[2],r=i[3]}else void 0!==r&&(r=parseFloat(r));if("number"!=typeof t||"number"!=typeof e||"number"!=typeof n||t>255||e>255||n>255)throw new TypeError("Expected three numbers below 256");if("number"==typeof r){if(!i&&r>=0&&r<=1)r=Math.round(255*r);else{if(!(i&&r>=0&&r<=100))throw new TypeError(`Expected alpha value (${r}) as a fraction or percentage`);r=Math.round(255*r/100)}r=(256|r).toString(16).slice(1)}else r="";return(n|e<<8|t<<16|1<<24).toString(16).slice(1)+r})}),_n=n(function(t){var e,n;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}},t.exports=n}),Mn={utf8:{stringToBytes:function(t){return Mn.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(Mn.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},Nn=Mn,kn=function(t){return null!=t&&(En(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&En(t.slice(0,0))}(t)||!!t._isBuffer)};function En(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var jn=n(function(t){var e,n,r,i,o;e=_n,n=Nn.utf8,r=kn,i=Nn.bin,(o=function(t,a){t.constructor==String?t=a&&"binary"===a.encoding?i.stringToBytes(t):n.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var c=e.bytesToWords(t),u=8*t.length,s=1732584193,f=-271733879,l=-1732584194,h=271733878,d=0;d<c.length;d++)c[d]=16711935&(c[d]<<8|c[d]>>>24)|4278255360&(c[d]<<24|c[d]>>>8);c[u>>>5]|=128<<u%32,c[14+(u+64>>>9<<4)]=u;var p=o._ff,g=o._gg,v=o._hh,y=o._ii;for(d=0;d<c.length;d+=16){var m=s,w=f,b=l,x=h;f=y(f=y(f=y(f=y(f=v(f=v(f=v(f=v(f=g(f=g(f=g(f=g(f=p(f=p(f=p(f=p(f,l=p(l,h=p(h,s=p(s,f,l,h,c[d+0],7,-680876936),f,l,c[d+1],12,-389564586),s,f,c[d+2],17,606105819),h,s,c[d+3],22,-1044525330),l=p(l,h=p(h,s=p(s,f,l,h,c[d+4],7,-176418897),f,l,c[d+5],12,1200080426),s,f,c[d+6],17,-1473231341),h,s,c[d+7],22,-45705983),l=p(l,h=p(h,s=p(s,f,l,h,c[d+8],7,1770035416),f,l,c[d+9],12,-1958414417),s,f,c[d+10],17,-42063),h,s,c[d+11],22,-1990404162),l=p(l,h=p(h,s=p(s,f,l,h,c[d+12],7,1804603682),f,l,c[d+13],12,-40341101),s,f,c[d+14],17,-1502002290),h,s,c[d+15],22,1236535329),l=g(l,h=g(h,s=g(s,f,l,h,c[d+1],5,-165796510),f,l,c[d+6],9,-1069501632),s,f,c[d+11],14,643717713),h,s,c[d+0],20,-373897302),l=g(l,h=g(h,s=g(s,f,l,h,c[d+5],5,-701558691),f,l,c[d+10],9,38016083),s,f,c[d+15],14,-660478335),h,s,c[d+4],20,-405537848),l=g(l,h=g(h,s=g(s,f,l,h,c[d+9],5,568446438),f,l,c[d+14],9,-1019803690),s,f,c[d+3],14,-187363961),h,s,c[d+8],20,1163531501),l=g(l,h=g(h,s=g(s,f,l,h,c[d+13],5,-1444681467),f,l,c[d+2],9,-51403784),s,f,c[d+7],14,1735328473),h,s,c[d+12],20,-1926607734),l=v(l,h=v(h,s=v(s,f,l,h,c[d+5],4,-378558),f,l,c[d+8],11,-2022574463),s,f,c[d+11],16,1839030562),h,s,c[d+14],23,-35309556),l=v(l,h=v(h,s=v(s,f,l,h,c[d+1],4,-1530992060),f,l,c[d+4],11,1272893353),s,f,c[d+7],16,-155497632),h,s,c[d+10],23,-1094730640),l=v(l,h=v(h,s=v(s,f,l,h,c[d+13],4,681279174),f,l,c[d+0],11,-358537222),s,f,c[d+3],16,-722521979),h,s,c[d+6],23,76029189),l=v(l,h=v(h,s=v(s,f,l,h,c[d+9],4,-640364487),f,l,c[d+12],11,-421815835),s,f,c[d+15],16,530742520),h,s,c[d+2],23,-995338651),l=y(l,h=y(h,s=y(s,f,l,h,c[d+0],6,-198630844),f,l,c[d+7],10,1126891415),s,f,c[d+14],15,-1416354905),h,s,c[d+5],21,-57434055),l=y(l,h=y(h,s=y(s,f,l,h,c[d+12],6,1700485571),f,l,c[d+3],10,-1894986606),s,f,c[d+10],15,-1051523),h,s,c[d+1],21,-2054922799),l=y(l,h=y(h,s=y(s,f,l,h,c[d+8],6,1873313359),f,l,c[d+15],10,-30611744),s,f,c[d+6],15,-1560198380),h,s,c[d+13],21,1309151649),l=y(l,h=y(h,s=y(s,f,l,h,c[d+4],6,-145523070),f,l,c[d+11],10,-1120210379),s,f,c[d+2],15,718787259),h,s,c[d+9],21,-343485551),s=s+m>>>0,f=f+w>>>0,l=l+b>>>0,h=h+x>>>0}return e.endian([s,f,l,h])})._ff=function(t,e,n,r,i,o,a){var c=t+(e&n|~e&r)+(i>>>0)+a;return(c<<o|c>>>32-o)+e},o._gg=function(t,e,n,r,i,o,a){var c=t+(e&r|n&~r)+(i>>>0)+a;return(c<<o|c>>>32-o)+e},o._hh=function(t,e,n,r,i,o,a){var c=t+(e^n^r)+(i>>>0)+a;return(c<<o|c>>>32-o)+e},o._ii=function(t,e,n,r,i,o,a){var c=t+(n^(e|~r))+(i>>>0)+a;return(c<<o|c>>>32-o)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(o(t,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):e.bytesToHex(r)}});function Tn(t){return function e(){e.__called||(e.__called=!0,t())}}function Ln(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.offset,r=e.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=i.document;if(t&&t.nodeType===Node.ELEMENT_NODE)for(var a=0,c=n,u=0;u<t.childNodes.length;u++){var s=t.childNodes[u];if(s&&"textContent"in s&&(a+=s.textContent.length,c-=s.textContent.length),a>n)return Ln(s,{offset:c+s.textContent.length,length:r},i)}if(t&&"textContent"in t){var f=t.textContent,l=t.parentNode;if(!l)return{};if(f.length<n&&t.nextSibling)return Ln(t.nextSibling,{offset:n-f.length,length:r},i);var h=[f.slice(n+r),f.slice(n,n+r),f.slice(0,n)].map(function(t){return o.createTextNode(t)}),d=h[0];l.replaceChild(h[0],t);var p=h.slice(1),g=Tn(function(){l.replaceChild(t,h[0]),p.forEach(function(t){t.remove()})});return p.forEach(function(t){l.insertBefore(t,d),d=t}),{reset:g,nodes:h}}return{}}function Sn(t){var e=t.getSelection(),n=t.document,r=e.getRangeAt(e.rangeCount-1),i=void 0,o=void 0;if(r){var a=r.startContainer,c=r.endContainer,u=a.parentElement,s=c.parentElement,f=(r.commonAncestorContainer,r.startContainer.textContent),l=r.startOffset,h=r.endContainer.textContent,d=r.endOffset;if(a===c){var p=Ln(a,{offset:l,length:d-l},t),g=p.nodes;r.selectNodeContents(g[1]),o=mn(r,t),i=p.reset}else{if(gn(a)){var v=[f.slice(l),f.slice(0,l)].map(function(t){return n.createTextNode(t)}),y=v[0];u.replaceChild(v[0],a);var m=v.slice(1);i=Tn(function(){u.replaceChild(a,v[0]),m.forEach(function(t){t.remove()})}),m.forEach(function(t){u.insertBefore(t,y),y=t}),r.setStart(v[0],0)}if(gn(c)){var w=[h.slice(d),h.slice(0,d)].map(function(t){return n.createTextNode(t)}),b=w[0];s.replaceChild(w[0],c);var x=w.slice(1);i=function(t){return Tn(function(){t&&t(),s.replaceChild(c,w[0]),x.forEach(function(t){t.remove()})})}(i),x.forEach(function(t){s.insertBefore(t,b),b=t}),r.setEnd(w[1],w[1].textContent.length)}o=mn(r,t)}return{reset:i,pos:o}}return{}}function On(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;t.getSelection().removeAllRanges()}function Cn(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.getSelection();if(e.isCollapsed)return[];var n=[],r=e.getRangeAt(e.rangeCount-1);return t(r.commonAncestorContainer)?[r.commonAncestorContainer]:(r&&(n=function(e,n){var r=[];return wn(e,function(e){t(e)&&n.isPointInRange(e,0)&&r.push(e)}),r}(r.commonAncestorContainer,r)),n)}}var An=Cn(function(t){return!!gn(t)&&!(t.parentNode&&t.parentNode.tagName&&["style","script","noscript","title"].includes(t.parentNode.tagName.toLowerCase()))}),Dn=An;function In(t){var e=An(t);if(!e||!e.length)return e;for(var n=[e.shift()];e.length;){var r=n[n.length-1],i=e.shift();i.previousSibling===r?(r.textContent=r.textContent+i.textContent,i.remove()):n.push(i)}return n.filter(function(t){return!(""===t.textContent.trim())})}var Pn,zn,Rn='\n.mark-highlight-popover {\n  position: absolute;\n  z-index: 9999;\n  background-color: #fff;\n  box-shadow: 0 0 10px 3px #ccc;\n  transform: translate(-54%, 20%);\n  min-width: 40px;\n  max-width: 90vw;\n  padding: 4px 7px;\n  box-sizing: content-box;\n  text-align: center;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n}\n.mark-highlight-popover > textarea {\n  display: block;\n  resize: none;\n}\n.mark-highlight-popover::before {\n  content: "";\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid #fff;\n  display: block;\n  position: absolute;\n  top: -10px;\n  left: 50%;\n}\n.mark-highlight-color {\n  display: inline-block;\n  width: 14px;\n  height: 14px;\n  margin: auto 2px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.mark-highlight-active-color {\n  background-size: contain;\n  background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTI1MTM3NDcxNDM5IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIwNDYiIGRhdGEtc3BtLWFuY2hvci1pZD0iYTMxM3guNzc4MTA2OS4wLmkwIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTE3Ni42NjE2MDEgODE3LjE3Mjg4MUMxNjguNDcyNzk4IDgyNS42NDQwNTUgMTY4LjcwMTcwNiA4MzkuMTQ5NjM2IDE3Ny4xNzI4ODEgODQ3LjMzODQzOCAxODUuNjQ0MDU2IDg1NS41MjcyNDEgMTk5LjE0OTYzNiA4NTUuMjk4MzMyIDIwNy4zMzg0MzggODQ2LjgyNzE1N0w4MjYuMDA1MTA1IDIwNi44MjcxNTdDODM0LjE5MzkwNyAxOTguMzU1OTgzIDgzMy45NjQ5OTggMTg0Ljg1MDQwMyA4MjUuNDkzODI0IDE3Ni42NjE2MDEgODE3LjAyMjY1IDE2OC40NzI3OTggODAzLjUxNzA2OSAxNjguNzAxNzA2IDc5NS4zMjgyNjcgMTc3LjE3Mjg4MUwxNzYuNjYxNjAxIDgxNy4xNzI4ODFaIiBwLWlkPSIyMDQ3Ij48L3BhdGg+PHBhdGggZD0iTTc5NS4zMjgyNjcgODQ2LjgyNzE1N0M4MDMuNTE3MDY5IDg1NS4yOTgzMzIgODE3LjAyMjY1IDg1NS41MjcyNDEgODI1LjQ5MzgyNCA4NDcuMzM4NDM4IDgzMy45NjQ5OTggODM5LjE0OTYzNiA4MzQuMTkzOTA3IDgyNS42NDQwNTUgODI2LjAwNTEwNSA4MTcuMTcyODgxTDIwNy4zMzg0MzggMTc3LjE3Mjg4MUMxOTkuMTQ5NjM2IDE2OC43MDE3MDYgMTg1LjY0NDA1NiAxNjguNDcyNzk4IDE3Ny4xNzI4ODEgMTc2LjY2MTYwMSAxNjguNzAxNzA2IDE4NC44NTA0MDMgMTY4LjQ3Mjc5OCAxOTguMzU1OTgzIDE3Ni42NjE2MDEgMjA2LjgyNzE1N0w3OTUuMzI4MjY3IDg0Ni44MjcxNTdaIiBwLWlkPSIyMDQ4Ij48L3BhdGg+PC9zdmc+");\n}\n.mark-highlight-color:hover {\n  opacity: .68;\n}\n.mark-highlight-color.disabled {\n  cursor: not-allowed;\n  opacity: .5;\n}\n.mark-highlight-item {\n  cursor: pointer;\n}\n',Fn=(Pn=Ye(ct.mark(function t(e,n,r,i){var o,a,c;i.target;return ct.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.highlight.lock){t.next=2;break}return t.abrupt("return");case 2:if(e.window.getSelection().isCollapsed){t.next=10;break}if(!Cn(function(t){return $n(t)||$n(t.parentNode)})(e.window.getSelection()).length){t.next=7;break}return t.abrupt("return");case 7:o=Sn(e.window),a=o.reset,c=o.pos,a&&Un.add("TEMP",a),c?r.show(c,e.highlightColors):r.hide();case 10:case"end":return t.stop()}},t,this)})),function(t,e,n,r){return Pn.apply(this,arguments)}),Bn=(zn=Ye(ct.mark(function t(e,n,r,i){var o,a,c,u,s;return ct.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.highlight.lock){t.next=2;break}return t.abrupt("return");case 2:(o=i.target).classList.contains("mark-highlight-item")&&o.hasAttribute("data-mark-id")&&(a=o.getAttribute("data-mark-id"),c=o.style.backgroundColor,u=o.getAttribute("data-mark-words"),(s=e.highlightColors.slice().map(function(t){return Gn(t)})).includes(Gn(c))||s.push(Gn(c)),r.show(yn(o),s),r.selectColor(c,a),u&&r.setText(u)),e.highlight.disableDefaultClick&&i.preventDefault();case 5:case"end":return t.stop()}},t,this)})),function(t,e,n,r){return zn.apply(this,arguments)});function Gn(t){try{return"#"+xn(t)}catch(e){return t}}function Qn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.color,r=e.words,i=e.uid,o=arguments[2];if(!$n(t)){var a=o.window.document.createElement("mark");a.className="mark-highlight-item",a.style.backgroundColor=n,a.setAttribute("data-mark-id",i),r&&a.setAttribute("data-mark-words",r),t.parentNode&&t.parentNode.replaceChild(a,t),a.appendChild(t)}}var Un=new(function(){function t(){We(this,t),this.mapQueue={}}return t.prototype.get=function(t){return this.mapQueue[t]},t.prototype.add=function(t,e){var n=this.get(t);n?n.push(e):this.mapQueue[t]=[e]},t.prototype.clear=function(t){this.reset(t,!1)},t.prototype.reset=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t)this.keys.map(function(t){return e.reset(t,n)});else{var r=this.get(t);r&&(n&&r.forEach(function(t){return t()}),r.splice(0,r.length))}},qe(t,[{key:"keys",get:function(){return Object.keys(this.mapQueue)}}]),t}());function Yn(t){if(gn(t))for(var e=t.previousSibling;gn(e);){t.textContent=e.textContent+t.textContent;var n=e.previousSibling;e.remove(),e=n}}function Wn(t){if(gn(t))for(var e=t.nextSibling;gn(e);){t.textContent=t.textContent+e.textContent;var n=e.nextSibling;e.remove(),e=n}}function Hn(t,e){return void 0===t?e.querySelectorAll("mark.mark-highlight-item[data-mark-id]"):e.querySelectorAll("mark.mark-highlight-item[data-mark-id="+JSON.stringify(t)+"]")}function Zn(t,e,n){for(var r=e.words,i=e.color,o=Hn(t,n),a=0;a<o.length;a++){var c=o[a];r&&c.setAttribute("data-mark-words",r),i&&(c.style.backgroundColor=Gn(i))}}function Vn(t,e){for(var n=Hn(t,e),r=0;r<n.length;r++){var i=n[r];if(i.parentNode){var o=i.firstChild;i.parentNode.replaceChild(o,i),Yn(o),Wn(o)}}}function qn(t,e){var n,r=this,i=this,o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(vn.has(e))return vn.get(e);var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return e.createElement(t)}(t,n);return vn.set(e,r),r}("div",void 0,document);return o.style.position="absolute",o.style.display="none",o.className="mark-highlight-popover",Object.assign(o,{hide:function(){this.style.display="none"},show:function(t,e){t&&(this.style.top=t.top+t.height+"px",this.style.left=t.left+t.width+"px"),e&&(this.innerHTML=e.map(function(t){return'<span class="mark-highlight-color" style="background-color: '+t+'"></span>'}).join("")),this.innerHTML+='<textarea placeholder="input your idea" style="display: none"></textarea>',this.style.display=""},selectColor:function(t,e){this._resetActive();for(var n=this.querySelectorAll(".mark-highlight-color"),r=0;r<n.length;r++)if(Gn(n[r].style.backgroundColor)===Gn(t))return e&&n[r].setAttribute("data-mark-id",e),n[r].classList.add("mark-highlight-active-color"),void this.setText("")},setText:function(e){var n=this,r=this.querySelector("textarea");r.style.display="",r.value=e;var a=e;r.focus(),r.onblur=Ye(ct.mark(function e(){var c,u;return ct.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o.getActive()){e.next=3;break}return e.abrupt("return");case 3:if(u=r.value,a!==u){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,i.emit("highlight-change:words",{id:c.id,words:u});case 8:Zn(c.id,{words:u},t);case 9:case"end":return e.stop()}},e,n)}))},_resetActive:function(){var t=this.querySelector(".mark-highlight-active-color");t&&(t.removeAttribute("data-mark-id"),t.classList.remove("mark-highlight-active-color"))},getActive:function(){var t=this.querySelector(".mark-highlight-active-color"),e=this.querySelector("textarea");return t&&{words:e.value,color:t.style.backgroundColor,id:t.getAttribute("data-mark-id")}}}),e.window.document.body.appendChild(o),o.addEventListener("click",(n=Ye(ct.mark(function n(i){var a,c,u,s,f,l,h,d;return ct.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a=i.target).classList.contains("mark-highlight-color")){n.next=47;break}if(c=a.style.backgroundColor,!a.classList.contains("mark-highlight-active-color")||!a.hasAttribute("data-mark-id")){n.next=13;break}return u=a.getAttribute("data-mark-id"),n.next=7,r.emit("highlight-remove",u);case 7:Vn(u,t),o.hide(),a.classList.remove("mark-highlight-active-color"),i.preventDefault(),n.next=47;break;case 13:if(!(s=o.getActive())){n.next=21;break}return n.next=17,r.emit("highlight-change:color",{id:s.id,color:c});case 17:return o.selectColor(c,s.id),o.setText(s.words),Zn(s.id,{color:c,words:s.words},t),n.abrupt("return");case 21:if(f=Dn(e.window.getSelection()),!f.find(function(t){return $n(t.parentNode)})){n.next=25;break}return n.abrupt("return");case 25:if(Sn(e.window),f=In(e.window.getSelection()),l=e.generateUid(),a.setAttribute("data-mark-id",l),h=f.filter(function(e){return t.contains(e)}),!(d=h.map(function(e){for(var n=e.parentNode,r=0,i=0;i<n.childNodes.length;i++){var o=n.childNodes[i];if(o===e)break;o&&"textContent"in o&&(r+=o.textContent.length)}return{offset:r,content:e.textContent,parentSelector:bn(n,t)}}))||!d.length){n.next=43;break}return r.highlight.lock=!0,n.prev=33,n.next=36,r.emit("highlight-add",{chunks:d,id:l,color:c});case 36:r.highlight.lock=!1,n.next=43;break;case 39:throw n.prev=39,n.t0=n.catch(33),r.highlight.lock=!1,n.t0;case 43:h.forEach(function(t){Qn(t,{uid:l,color:c},e)}),On(window),Un.clear(),o.selectColor(c,l);case 47:case"end":return n.stop()}},n,r,[[33,39]])})),function(t){return n.apply(this,arguments)})),o}function $n(t){return t&&t.classList&&t.classList.contains("mark-highlight-item")&&t.tagName&&"mark"===t.tagName.toLowerCase()}function Jn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,i=arguments[2],o=t.color,a=t.id,c=t.words,u=t.chunks,s=void 0===u?[]:u,f=r(t,["color","id","words","chunks"]);if(Array.isArray(s)){var l=s.map(function(t){var e=t.parentSelector;return n.querySelector(e)});s.forEach(function(t,n){var r=et({},f,{color:o,id:a,words:c},t);try{l[n]&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=t.words,r=t.id,i=t.offset,o=t.length,a=t.content,c=arguments[1],u=arguments[2];isNaN(o)&&void 0!==a&&(o=a.length);var s=Ln(c,{offset:i,length:o},u.window),f=(s.reset,s.nodes);if(f&&f[1]){if(void 0!==a&&f[1].textContent!==a)throw console.warn("expected:",JSON.stringify(f[1].textContent),"actual:",JSON.stringify(a)),"highlight-match-fail";Qn(f[1],{uid:r,color:e,words:n},u)}}.call(e,r,l[n],i)}catch(t){"highlight-match-fail"===t&&e.emitSync("highlight-match-fail",a)}})}}function Xn(t,e,n,r){var i=r.target;this.highlight.lock||i.classList.contains("mark-highlight-item")&&i.hasAttribute("data-mark-id")||n.contains(i)||(n.hide(),Un.reset("TEMP"))}var Kn=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then};var tr=n(function(t){const e="function"==typeof Symbol?Symbol("--[[await-event-emitter]]--"):"--[[await-event-emitter]]--";function n(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new TypeError("type is not type of string or symbol!")}function r(t){if("function"!=typeof t)throw new TypeError("fn is not type of Function!")}function i(t){return{[e]:"always",fn:t}}function o(t){return{[e]:"once",fn:t}}function a(){this._events={}}a.prototype.on=a.prototype.addListener=function(t,e){return n(t),r(e),this._events[t]=this._events[t]||[],this._events[t].push(i(e)),this},a.prototype.once=function(t,e){return n(t),r(e),this._events[t]=this._events[t]||[],this._events[t].push(o(e)),this},a.prototype.prependListener=function(t,e){return n(t),r(e),this._events[t]=this._events[t]||[],this._events[t].unshift(i(e)),this},a.prototype.prependOnceListener=function(t,e){return n(t),r(e),this._events[t]=this._events[t]||[],this._events[t].unshift(o(e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){n(t);const r=this.listeners(t);if("function"==typeof e){let n,i=!1;for(;(n=r.indexOf(e))>=0;)r.splice(n,1),this._events[t].splice(n,1),i=!0;return i}return delete this._events[t]},a.prototype.emit=async function(t,...r){n(t);const i=this.listeners(t),o=[];if(i&&i.length){for(let n=0;n<i.length;n++){const a=i[n],c=a.apply(this,r);Kn(c)&&await c,"once"===this._events[t][n][e]&&o.push(a)}return o.forEach(e=>this.removeListener(t,e)),!0}return!1},a.prototype.emitSync=function(t,...r){n(t);const i=this.listeners(t),o=[];if(i&&i.length){for(let n=0;n<i.length;n++){const a=i[n];a.apply(this,r),"once"===this._events[t][n][e]&&o.push(a)}return o.forEach(e=>this.removeListener(t,e)),!0}return!1},a.prototype.listeners=function(t){return(this._events[t]||[]).map(t=>t.fn)},t.exports=a}),er="undefined"!=typeof document,nr={highlight:function(t,e){if(!window.getSelection)throw new Error("window.getSelection is not existed");e=et({generateUid:function(){return jn((new Date).getTime()+Math.random()+"")},highlightColors:["#fff682","pink","#b2f0ff","#c57dff"]},e),this.addStyle(Rn);var n=qn.call(this,t,e),r=pn(Fn,100).bind(this,e,t,n),i=pn(Xn,100).bind(this,e,t,n),o=Bn.bind(this,e,t,n),a=function(t,e,n,r){var i=this,o=r.target;if(o.classList.contains("mark-highlight-item")&&o.hasAttribute("data-mark-id")){this.highlight.__$tmp_time&&clearTimeout(this.highlight.__$tmp_time),this.highlight.__$tmp_time=setTimeout(function(){var t=i.opt.highlight.disableDefaultClick;i.opt.highlight.disableDefaultClick=!0,o.click(),i.opt.highlight.disableDefaultClick=t,delete i.highlight.__$tmp_time},2e3);var a=Hn(o.getAttribute("data-mark-id"),e);Array.from(a).forEach(function(t){t.style.filter="brightness(85%)",t.style.webkitFilter="brightness(85%)",t.style.msFilter="brightness(85%)",t.style.mozFilter="brightness(85%)"})}}.bind(this,e,t,n),c=function(t,e,n,r){var i=r.target;if(i.classList.contains("mark-highlight-item")&&i.hasAttribute("data-mark-id")){this.highlight.__$tmp_time&&clearTimeout(this.highlight.__$tmp_time);var o=Hn(i.getAttribute("data-mark-id"),e);Array.from(o).forEach(function(t){t.style.filter="",t.style.webkitFilter="",t.style.msFilter="",t.style.mozFilter=""})}}.bind(this,e,t,n);this.addReset(function(){n.parentNode&&n.parentNode.removeChild(n),t.removeEventListener("click",o),t.removeEventListener("mouseover",a),t.removeEventListener("mouseout",c),t.removeEventListener("mouseup",r),t.removeEventListener("mousedown",i)}),t.addEventListener("click",o),t.addEventListener("mouseover",a),t.addEventListener("mouseout",c),t.addEventListener("mouseup",r),t.addEventListener("mousedown",i);var u=this;this.highlight={fill:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(Array.isArray(n))return n.forEach(function(t){return Jn.call(u,t,r,e)});Jn.call(u,n,r,e)},remove:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=n.getActive();return i&&i.id===e&&n.hide(),Vn(e,r)}}},badge:function(t){this.opt.badge=Object.assign({},this.opt.badge)}};function rr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t[e]=function(){var r=arguments;n.forEach(function(n){t[n]&&t[n][e]&&t[n][e].apply(t[n],r)})}}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!er)throw new Error("mark should be used in browser environment.");var n=e=et({window:window,enablePlugins:["highlight","badge"]},e,{highlight:et({disableDefaultClick:!1},e.highlight)}),i=n.enablePlugins,o=r(n,["enablePlugins"]),a=new tr;return Object.assign(a,{opt:e,__resets:[],addReset:function(t){t&&this.__resets.push(t)},exit:function(){t.__reset&&t.__reset()},addStyle:function(t){var e=this.opt.window.document,n=e.createElement("style");return n.textContent=t,e.head.appendChild(n),this.addReset(function(){e.head.removeChild(n)}),n}}),a.exit(),t.__reset=function(){a.__resets.forEach(function(t){return t()})},i.forEach(function(e){nr[e]&&function(t,e){try{for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];t.apply(this,r)}catch(t){console.error(e,t)}}.call(a,nr[e],e,t,o)}),rr(a,"exit",i),rr(a,"remove",i),a}});
//# sourceMappingURL=index.umd.min.js.map
